<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Apple Support -->
    <meta name="apple-mobile-web-app-title" content="FFBExecute">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width">

    <link rel="apple-touch-icon" sizes="180x180" href="/ffbe/resource/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/ffbe/resource/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/ffbe/resource/favicon-16x16.png">
    <link rel="manifest" href="/ffbe/resource/site.webmanifest">
    <link rel="mask-icon" href="/ffbe/resource/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/ffbe/resource/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/ffbe/resource/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <title>FFBExecute - Web Interface</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script type="text/javascript" src="http://code.jquery.com/jquery-3.3.1.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <style type="text/css">
        .updatedValue {
            background-color:#f7b2b2;
        }


    </style>

    <script type="text/javascript">
        $(function(){

            var device1 = $('#device1');
            var view1 = $('#view1');
            var view2 = $('#view2');
            var script1 = $('#script1');
            var script2 = $('#script2');
            var script3 = $('#script3');
            var script4 = $('#script4');
            var statusName = $('#statusName');

            var logs = $('#logs');
            var states = $('#states');
            var components = $('#components');
            var editComponents = $('#edit-components');
            var editScreens = $('#edit-screens');

            var editForm = $('#edit-form');

            var playerLevel = $('#player-level');
            var deviceIp = $('#device-ip');

            var playPauseButton = $('#controlPlayPause');
            var unloadButton = $('#controlUnload');
            var killButton = $('#controlKill');
            var unloadEdit = $('#unloadEdit');
            var loadButton = $('#controlLoad');
            var editViewButton = $('#controlEditView');

            var controlPlayerSave = $('#controlPlayerSave');
            var controlDeviceSave = $('#controlDeviceSave');

            var settingForm = $('#setting-form');
            var playerForm = $('#player-form');
            var variableForm = $('#variable-form');
            var variableContainer = $('#variable-container');
            var loadedForm = $('#loaded-form');

            var controlAdb = $('.controlAdb');
            var adbInfo = $('#adb-info');
            var linkedVariables = {};

            var notWhileRunning = $('.notWhileRunning');

            var logItems = [];

            function populateSelect(select, items) {
                var i = 0;
                select.empty();
                for (i = 0; i < items.length; i++) {
                    select.append($('<option></option>').text(items[i]).attr('value', items[i]));
                }
            }

            view1.change(function(){
                view2.prop('disabled', !view1.val());
            });

            script1.change(function(){
                script2.prop('disabled', !script1.val());
            });

            script2.change(function(){
                script3.prop('disabled', !script2.val());
            });

            script3.change(function(){
                script4.prop('disabled', !script3.val());
            });

            function createGroup(name, field, button) {
                var grp = $('<div class="input-group mb-3"></div>').appendTo(variableContainer);
                $('<div class="input-group-prepend"></div>').append($('<span class="input-group-text" id=""></span>').text(name)).appendTo(grp);
                field.appendTo(grp);
                $('<div class="input-group-append"></div>').append(button).appendTo(grp);
                return grp;
            }

            function statusCheck(firstTime) {
                $.getJSON({
                    url: '/ffbe/status',
                    data: {},
                    success: function(data){

                        var i = 0, item, div;

                        statusName.text(data.status);

                        switch(data.status) {
                            case 'EDIT_VIEW': {
                                editForm.show();
                                settingForm.hide();
                                if (firstTime) {
                                    $('[href="#edit"]').tab('show');
                                    loadEditViewInfo(true);
                                }
                            } break;
                            case 'INIT': {
                                editForm.hide();
                                playPauseButton.addClass('disabled');
                                unloadButton.addClass('disabled');
                                settingForm.show();
                                loadedForm.hide();
                                states.prop('disabled', true);
                            } break;
                            case 'READY': {
                                if (firstTime) {
                                    $('[href="#run"]').tab('show');
                                    loadProcessInfo(true);
                                } else {
                                    editForm.hide();
                                    playPauseButton.removeClass('disabled');
                                    unloadButton.removeClass('disabled');
                                    settingForm.hide();
                                    loadedForm.show();
                                    states.prop('disabled', false);
                                    notWhileRunning.prop('disabled', false);
                                }
                            } break;
                            case 'RUNNING':
                            case 'STOPPING':
                            case 'STOPPED': {
                                if (firstTime) {
                                    $('[href="#run"]').tab('show');
                                    loadProcessInfo(true);
                                } else {
                                    editForm.hide();
                                    playPauseButton.removeClass('disabled');
                                    unloadButton.removeClass('disabled');
                                    settingForm.hide();
                                    loadedForm.show();
                                    states.prop('disabled', true);
                                    notWhileRunning.prop('disabled', true);
                                    setTimeout(statusCheck, 3000);
                                }
                            } break;
                        }

                        if (data.state) {
                            states.val(data.state);
                        }

                        for (i = 0; i < data.logs.length; i++) {
                            item = data.logs[i];
                            div = $('<div class="row"></div>')
                            div.append($('<div class="col-sm-2 col-md-2 d-none d-sm-block"></div>').text(item.source));
                            div.append($('<div class="col-sm-4 col-md-2"></div>').text(item.timestamp));
                            div.append($('<div class="col-sm-2 col-md-2 d-none d-sm-block"></div>').text(item.level));
                            div.append($('<div class="col-sm-8 col-md-6"></div>').text(item.message));
                            logItems.push(div);
                            logs.prepend(div);
                        }

                        while (logItems.length > 50) {
                            logItems.splice(0,1)[0].detach();
                        }

                        if (data.variables.length > 0) {
                            for (i = 0; i < data.variables.length; i++) {
                                item = data.variables[i];
                                linkedVariables[item.name].val(formatVariable(item));
                            }
                        }

                    }
                });
            }

            $(".setLevel").click(function(){
                var ref = $(this), level = ref.attr('level');
                $.ajax({
                    type: "POST",
                    url: '/ffbe/process/level/' + level,
                    success: function(result){

                    }
                });
            });

            playPauseButton.click(function(){
                if (!playPauseButton.hasClass('disabled')) {
                    $.ajax({
                      type: "POST",
                      url: '/ffbe/process/playPause/' + states.val(),
                      success: function(result){
                        statusCheck();
                      }
                    });
                }
            });

            unloadButton.click(function(){
                if (!unloadButton.hasClass('disabled')) {
                    $.ajax({
                      type: "POST",
                      url: '/ffbe/process/unload',
                      success: function(result){
                        statusCheck();
                        $('[href="#config"]').tab('show');
                      }
                    });
                }
            });

            killButton.click(function(){
                if (!unloadButton.hasClass('disabled')) {
                    $.ajax({
                        type: "POST",
                        url: '/ffbe/process/kill',
                        success: function(result){
                            statusCheck();
                            $('[href="#config"]').tab('show');
                        }
                    });
                }
            });

            unloadEdit.click(function(){
                if (!unloadEdit.hasClass('disabled')) {
                    $.ajax({
                      type: "POST",
                      url: '/ffbe/edit/unload',
                      success: function(result){
                        statusCheck();
                        $('[href="#config"]').tab('show');
                      }
                    });
                }
            });

            controlPlayerSave.click(function(){
                $.ajax({
                  type: "POST",
                  url: '/ffbe/player/level',
                  data: {value: playerLevel.val()}
                });
            });

            controlAdb.click(function(){
                adbInfo.val("Please Wait...");
                $.ajax({
                    type: "POST",
                    url: '/ffbe/adb/' + $(this).attr('adb'),
                    data: {},
                    success: function(result){
                        adbInfo.val(result.value || 'Done');
                    }
                });
            });

            controlDeviceSave.click(function(){
                $.ajax({
                  type: "POST",
                  url: '/ffbe/device/ip',
                  data: {value: deviceIp.val()}
                });
            });

            $('.controlButton').click(function(){
                var ref= $(this), button = ref.attr('controlButton'), componentId = $('#components').val();
                $.ajax({
                    type: "POST",
                    url: '/ffbe/button',
                    data: {buttonId: button, componentId: componentId}
                });
            });

            function doubleWide(numb) {
                if (numb < 10) {
                    return "0" + numb;
                }
                return numb;
            }

            function formatVariable(varDef) {
                switch(varDef.displayType) {
                    case 'STANDARD':
                        return varDef.value;
                    case 'TENTH': {
                        return ((varDef.value - 0) / 10.0).toFixed(1) + "%";
                    } break;
                    case 'BOOLEAN': {
                        return varDef.value - 0;
                    } break;
                    case 'SECONDS': {
                        var total = varDef.value - 0;
                        var hours = Math.floor(total / (3600));
                        total -= (hours * 3600);
                        var minutes = Math.floor(total / 60);
                        var seconds = total % 60;
                        return doubleWide(hours) + ":" + doubleWide(minutes) + ":" + doubleWide(seconds);
                    } break;
                }
            }

            function loadProcessInfo(firstTime) {
                $.ajax({
                  type: "GET",
                  url: '/ffbe/process/info',
                  success: function(result){
                    if (result.status == 'OK') {
                        states.empty();
                        components.empty();
                        var i, item, grp, label, input, button;
                        for (i = 0; i < result.states.length; i++) {
                        states.append($('<option></option>').attr('value', result.states[i].value).text(result.states[i].name).attr('description', result.states[i].description));
                        }
                        for (i = 0; i < result.components.length; i++) {
                        components.append($('<option></option>').attr('value', result.components[i].value).text(result.components[i].name));
                        }
                        variableContainer.empty();
                        linkedVariables = {};
                        if (result.variables.length > 0) {
                            variableForm.show();

                            var row;

                            for (i = 0; i < result.variables.length; i++) {
                                item = result.variables[i];

                                if (i % 3 == 0) {
                                    row = $('<div class="row"></div>').appendTo(variableContainer);
                                }

                                grp = $('<div class="input-group mb-3 col-sm-4"></div>').appendTo(row);

                                $('<div class="input-group-prepend"></div>').append($('<span class="input-group-text" id=""></span>').text(item.display)).appendTo(grp);

                                if (item.displayType == 'BOOLEAN') {
                                    linkedVariables[item.name] = $('<select class="form-control notWhileRunning"><option value="0">False</option><option value="1">True</option></select>')
                                } else {
                                    linkedVariables[item.name] = $('<input type="text" class="form-control notWhileRunning"/>');
                                }

                                linkedVariables[item.name].data('key', item.name).val(formatVariable(item)).attr('id', 'var_' + item.name).appendTo(grp);
                                switch(item.modify) {
                                    case 'EDITABLE': {
                                        $('<div class="input-group-append"></div>').append($('<button class="btn btn-secondary updateVariable notWhileRunning" type="button">Update</button>').data('key', item.name).attr('for', 'var_' + item.name)).appendTo(grp);
                                    } break;
                                }
                            }
                        } else {
                            variableForm.hide();
                        }
                        statusCheck();
                    }
                  },
                  dataType: 'json'
                });
            }

            function loadEditViewInfo(firstTime) {
                $.ajax({
                  type: "GET",
                  url: '/ffbe/edit/view/info',
                  success: function(result){
                    if (result.status == 'OK') {
                        editScreens.empty();
                        editComponents.empty();
                        var i, item, grp, label, input, button;
                        for (i = 0; i < result.screens.length; i++) {
                            editScreens.append($('<option></option>').attr('value', result.screens[i].value).text(result.screens[i].name));
                        }
                        for (i = 0; i < result.components.length; i++) {
                            editComponents.append($('<option></option>').attr('value', result.components[i].value).text(result.components[i].name));
                        }
                        if (firstTime) {
                            statusCheck();
                        }
                    }
                  },
                  dataType: 'json'
                });
            }

            variableContainer.on('change', 'select, input', function(){
                var ref = $(this);
                ref.addClass('updatedValue');
            });

            variableContainer.on('click', 'button.updateVariable', function(){
                var ref = $(this), key = ref.data('key'), input = linkedVariables[key];
                input.removeClass('updatedValue');
                if (input.val()) {
                    $.ajax({
                      type: "POST",
                      url: '/ffbe/variable',
                      data: {key: key, value: input.val()}
                    });
                }
            });

            loadButton.click(function(){
                var blob = {
                    device: device1.val(),
                    view: view1.val(),
                    view2: view2.val(),
                    script: script1.val(),
                    script2: script2.val(),
                    script3: script3.val(),
                    script4: script4.val()
                };
                $.ajax({
                  type: "POST",
                  url: '/ffbe/process/prep',
                  data: JSON.stringify(blob),
                  headers: {
                        'Content-Type': 'application/json'
                    },
                  success: function(result){
                    if (result.status == 'OK') {
                        saveSelection();
                        loadProcessInfo(true);
                        $('[href="#run"]').tab('show');
                    }
                  },
                  dataType: 'json'
                });
            });

            editViewButton.click(function(){
                var blob = {
                    device: device1.val(),
                    view: view1.val(),
                    view2: view2.val(),
                    script: script1.val(),
                    script2: script2.val(),
                    script3: script3.val(),
                    script4: script4.val()
                };
                $.ajax({
                  type: "POST",
                  url: '/ffbe/edit/view',
                  data: JSON.stringify(blob),
                  headers: {
                        'Content-Type': 'application/json'
                    },
                  success: function(result){
                    if (result.status == 'OK') {
                        loadEditViewInfo(true);
                        $('[href="#edit"]').tab('show');
                    }
                  },
                  dataType: 'json'
                });

            });

            function firstTimeLoad() {

                $.getJSON({
                  url: '/ffbe/settings/list',
                  data: {},
                  success: function(data){
                    populateSelect(device1, data.devices || []);
                    populateSelect(view1, data.views || []);
                    populateSelect(view2, data.views || []);
                    populateSelect(script1, data.scripts || []);
                    populateSelect(script2, data.scripts || []);
                    populateSelect(script3, data.scripts || []);
                    populateSelect(script4, data.scripts || []);
                    loadSelection();

                    statusCheck(true);
                  }
                });

                $.getJSON({
                      url: '/ffbe/player/level',
                      data: {},
                      success: function(data){
                        playerLevel.val(data.value);
                        playerForm.show();
                      }
                  }
                );

                $.getJSON({
                      url: '/ffbe/device/ip',
                      data: {},
                      success: function(data){
                        deviceIp.val(data.value);
                      }
                  }
                );
            }

            function saveSelection() {

                var device1 = $('#device1').val();
                var view1 = $('#view1').val();
                var view2 = $('#view2').val();
                var script1 = $('#script1').val();
                var script2 = $('#script2').val();
                var script3 = $('#script3').val();
                var script4 = $('#script4').val();

                var data = {
                    device: device1 || '',
                    views: [],
                    scripts: []
                };
                if (view1) data.views.push(view1);
                if (view2) data.views.push(view2);
                if (script1) data.scripts.push(script1);
                if (script2) data.scripts.push(script2);
                if (script3) data.scripts.push(script3);
                if (script4) data.scripts.push(script4);

                localStorage.setItem("LAST", JSON.stringify(data));
            }

            function loadSelection() {
                var lData = localStorage.getItem("LAST");
                if (lData) {

                    var device1 = $('#device1');
                    var view1 = $('#view1');
                    var view2 = $('#view2');
                    var script1 = $('#script1');
                    var script2 = $('#script2');
                    var script3 = $('#script3');
                    var script4 = $('#script4');

                    var j = JSON.parse(lData);
                    if (j.device) device1.val(j.device);
                    if (j.views && j.views.length > 0) {
                        view1.val(j.views[0]);
                        view2.prop('disabled', false);
                    }
                    if (j.views && j.views.length > 1)
                        view2.val(j.views[1]);
                    if (j.scripts && j.scripts.length > 0) {
                        script1.val(j.scripts[0]);
                        script2.prop('disabled', false);
                    }
                    if (j.scripts && j.scripts.length > 1) {
                        script2.val(j.scripts[1]);
                        script3.prop('disabled', false);
                    }
                    if (j.scripts && j.scripts.length > 2) {
                        script3.val(j.scripts[2]);
                        script4.prop('disabled', false);
                    }
                    if (j.scripts && j.scripts.length > 3)
                        script4.val(j.scripts[3]);
                }
            }

            setTimeout(firstTimeLoad, 100);
        });



    </script>
</head>
<body>

<div class="container-fluid">

    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="config-tab" data-toggle="tab" href="#config" role="tab" aria-controls="config"
               aria-selected="true">Config</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="run-tab" data-toggle="tab" href="#run" role="tab" aria-controls="run"
               aria-selected="false">Run</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="vars-tab" data-toggle="tab" href="#vars" role="tab" aria-controls="vars"
               aria-selected="false">Variables</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="device-tab" data-toggle="tab" href="#device" role="tab" aria-controls="device"
               aria-selected="false">Device</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="edit-tab" data-toggle="tab" href="#edit" role="tab" aria-controls="edit"
               aria-selected="false">Edit</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="console-tab" data-toggle="tab" href="#console" role="tab" aria-controls="console"
               aria-selected="false">Console</a>
        </li>
    </ul>



    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="config" role="tabpanel" aria-labelledby="config-tab">

            <form id="setting-form" class="col-sm-4" style="display:none;">
                <h3>Loader</h3>

                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Device</span>
                    </div>
                    <select class="form-control" id="device1"></select>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Primary View</span>
                    </div>
                    <select class="form-control" id="view1"></select>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Extra View</span>
                    </div>
                    <select class="form-control" id="view2" disabled></select>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Primary Script</span>
                    </div>
                    <select class="form-control" id="script1"></select>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Extra Script</span>
                    </div>
                    <select class="form-control" id="script2" disabled></select>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Extra Script</span>
                    </div>
                    <select class="form-control" id="script3" disabled></select>
                </div><br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Extra Script</span>
                    </div>
                    <select class="form-control" id="script4" disabled></select>
                </div>
                <br/>
                <div class="form-group">
                    <button type="button" id="controlLoad" class="btn btn-primary">Run Script</button>
                    <button type="button" id="controlEditView" class="btn btn-secondary">Edit View</button>
                </div>
            </form>

        </div>
        <div class="tab-pane fade" id="run" role="tabpanel" aria-labelledby="run-tab">

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <a class="navbar-brand" href="#" id="statusName">CHECKING</a>
            </nav>

            <form id="loaded-form" class="col-sm-4" style="display:none;">
                <h3>Run</h3>
                <div class="form-group">
                    <label for="states">State</label>
                    <select id="states" class="form-control"></select>
                </div>
                <div class="form-group">
                    <button type="button" id="controlPlayPause" class="btn btn-primary">Play/Pause</button>
                    <button type="button" id="controlUnload" class="btn btn-danger notWhileRunning">Unload</button>
                    <button type="button" id="controlKill" class="btn btn-danger">Kill</button>
                </div>
                <div class="form-group">
                    <button type="button" level="SEVERE" class="btn btn-danger setLevel">Severe</button>
                    <button type="button" level="INFO" class="btn btn-info setLevel">Info</button>
                    <button type="button" level="FINER" class="btn btn-success setLevel">Finer</button>
                    <button type="button" level="FINEST" class="btn btn-warning setLevel">Finest</button>
                </div>
                <div class="form-group">
                    <label for="components">Components</label>
                    <select id="components" class="form-control notWhileRunning"></select>
                </div>
                <div class="form-group">
                    <button type="button" id="controlTap" controlButton="TAP"
                            class="btn btn-info notWhileRunning controlButton">Tap
                    </button>
                    <button type="button" id="controlSwipeUp" controlButton="SWIPE_UP"
                            class="btn btn-info notWhileRunning controlButton">Up
                    </button>
                    <button type="button" id="controlSwipeRight" controlButton="SWIPE_RIGHT"
                            class="btn btn-info notWhileRunning controlButton">Right
                    </button>
                    <button type="button" id="controlSwipeDown" controlButton="SWIPE_DOWN"
                            class="btn btn-info notWhileRunning controlButton">Down
                    </button>
                    <button type="button" id="controlSwipeLeft" controlButton="SWIPE_LEFT"
                            class="btn btn-info notWhileRunning controlButton">Left
                    </button>

                    <button type="button" id="controlSlowUp" controlButton="SLOW_UP"
                            class="btn btn-warning notWhileRunning controlButton">Up
                    </button>
                    <button type="button" id="controlSlowRight" controlButton="SLOW_RIGHT"
                            class="btn btn-warning notWhileRunning controlButton">Right
                    </button>
                    <button type="button" id="controlSlowDown" controlButton="SLOW_DOWN"
                            class="btn btn-warning notWhileRunning controlButton">Down
                    </button>
                    <button type="button" id="controlSlowLeft" controlButton="SLOW_LEFT"
                            class="btn btn-warning notWhileRunning controlButton">Left
                    </button>
                </div>
            </form>

        </div>

        <div class="tab-pane fade" id="device" role="tabpanel" aria-labelledby="device-tab">

            <form id="player-form" class="col-sm-4" style="display:none;">

                <h3>Settings</h3>

                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Player Level</span>
                    </div>
                    <input type="number" class="form-control" id="player-level"/>
                    <div class="input-group-append">
                        <button type="button" id="controlPlayerSave" class="btn btn-primary">Update</button>
                    </div>
                </div>
                <br/>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Device I.P.</span>
                    </div>
                    <input class="form-control" id="device-ip"/>
                    <div class="input-group-append">
                        <button type="button" id="controlDeviceSave" class="btn btn-primary">Update</button>
                    </div>
                </div>
                <br/>

                <div class="form-group">
                    <label for="adb-info">ADB</label>
                    <textarea class="form-control" id="adb-info" rows="3"></textarea>
                </div>

                <div class="input-group">
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="restart">Restart</button>
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="usb">USB</button>
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="remote">Remote</button>
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="kill">Kill</button>
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="connect">Connect</button>
                    <button type="button" class="btn controlAdb btn-info notWhileRunning" adb="devices">Devices</button>
                </div>

            </form>

        </div>
        <div class="tab-pane fade" id="edit" role="tabpanel" aria-labelledby="edit-tab">

            <form id="edit-form" class="col-sm-4" style="display:none;">
                <div class="form-group">
                    <button type="button" id="unloadEdit" class="btn  btn-danger notWhileRunning">Unload</button>
                </div>

                <div class="form-group">
                    <label for="edit-screens">Screens</label>
                    <select id="edit-screens" class="form-control notWhileRunning"></select>
                </div>

                <div class="form-group">
                    <button type="button" id="newScreen" class="btn btn-info">New</button>
                    <button type="button" id="stubScreen" class="btn btn-info">Stub</button>
                    <button type="button" id="editScreen" class="btn btn-info">Edit</button>
                    <button type="button" id="fixScreen" class="btn btn-info">Fix</button>
                    <button type="button" id="verifyScreen" class="btn btn-info">Verify</button>
                    <button type="button" id="updateScreen" class="btn btn-info">Update</button>
                </div>

                <div class="form-group">
                    <label for="edit-components">Components</label>
                    <select id="edit-components" class="form-control notWhileRunning"></select>
                </div>

                <div class="form-group">
                    <div class="form-group">
                        <button type="button" id="newComponent" class="btn btn-info">New</button>
                        <button type="button" id="stubComponent" class="btn btn-info">Stub</button>
                        <button type="button" id="editComponent" class="btn btn-info">Edit</button>
                        <button type="button" id="updateComponent" class="btn btn-info">Update</button>
                    </div>
                </div>


            </form>

        </div>
        <div class="tab-pane fade" id="vars" role="tabpanel" aria-labelledby="vars-tab">

            <div class="row">
                <form id="variable-form" class="col-sm-12" style="display:none;">
                    <h3>Variables</h3>
                    <div id="variable-container" class="container-fluid">



                    </div>
                </form>
            </div>

        </div>
        <div class="tab-pane fade" id="console" role="tabpanel" aria-labelledby="console-tab">
            <div id="logs" class="container-fluid"></div>
        </div>
    </div>


</div>


</body>
</html>